<svg xmlns="http://www.w3.org/2000/svg" width="800" height="500" viewBox="0 0 800 500">
  <!-- Background -->
  <rect width="800" height="500" fill="#0d0d0d"/>
  
  <!-- Title -->
  <text x="400" y="40" text-anchor="middle" font-family="Arial" font-size="22" fill="#00ffff">
    PulseShift Wiring Diagram
  </text>

  <!-- Battery -->
  <rect x="80" y="100" width="80" height="50" rx="8" ry="8" fill="#222" stroke="#00ff00" stroke-width="2"/>
  <text x="120" y="130" text-anchor="middle" font-family="Arial" font-size="14" fill="#00ff00">40V Pack</text>

  <!-- High Path -->
  <line x1="160" y1="125" x2="300" y2="125" stroke="#ff3333" stroke-width="3"/>
  <rect x="300" y="105" width="110" height="40" rx="6" ry="6" fill="#222" stroke="#ff3333" stroke-width="2"/>
  <text x="355" y="130" text-anchor="middle" font-family="Arial" font-size="13" fill="#ff3333">Buck/Boost</text>
  
  <line x1="410" y1="125" x2="520" y2="125" stroke="#ff3333" stroke-width="3"/>
  <rect x="520" y="105" width="90" height="40" rx="6" ry="6" fill="#222" stroke="#ff3333" stroke-width="2"/>
  <text x="565" y="130" text-anchor="middle" font-family="Arial" font-size="13" fill="#ff3333">Ideal Diode</text>

  <line x1="610" y1="125" x2="740" y2="125" stroke="#ff3333" stroke-width="3"/>
  <rect x="740" y="105" width="90" height="40" rx="6" ry="6" fill="#222" stroke="#ff3333" stroke-width="2"/>
  <text x="785" y="130" text-anchor="middle" font-family="Arial" font-size="13" fill="#ff3333">Controller +</text>

  <!-- Low Path -->
  <line x1="160" y1="125" x2="300" y2="200" stroke="#3399ff" stroke-width="3"/>
  <rect x="300" y="180" width="110" height="40" rx="6" ry="6" fill="#222" stroke="#3399ff" stroke-width="2"/>
  <text x="355" y="205" text-anchor="middle" font-family="Arial" font-size="13" fill="#3399ff">40→12V Converter</text>

  <!-- Keep-Alive Rail -->
  <line x1="410" y1="200" x2="520" y2="200" stroke="#ffcc00" stroke-width="3"/>
  <rect x="520" y="180" width="90" height="40" rx="6" ry="6" fill="#222" stroke="#ffcc00" stroke-width="2"/>
  <text x="565" y="205" text-anchor="middle" font-family="Arial" font-size="13" fill="#ffcc00">Supercaps</text>

  <line x1="610" y1="200" x2="740" y2="200" stroke="#ffcc00" stroke-width="3"/>
  <rect x="740" y="180" width="90" height="40" rx="6" ry="6" fill="#222" stroke="#ffcc00" stroke-width="2"/>
  <text x="785" y="205" text-anchor="middle" font-family="Arial" font-size="13" fill="#ffcc00">12V Indicator</text>

  <!-- Common Ground -->
  <line x1="120" y1="150" x2="120" y2="250" stroke="#aaaaaa" stroke-width="2"/>
  <line x1="120" y1="250" x2="785" y2="250" stroke="#aaaaaa" stroke-width="2"/>
  <text x="400" y="270" text-anchor="middle" font-family="Arial" font-size="13" fill="#aaaaaa">Common Ground (keep 12V isolated from HV rail)</text>

  <!-- Legend -->
  <rect x="50" y="330" width="700" height="130" rx="10" ry="10" fill="#111" stroke="#666" stroke-width="1"/>
  <text x="400" y="355" text-anchor="middle" font-family="Arial" font-size="16" fill="#ffffff">Legend</text>
  
  <circle cx="80" cy="380" r="6" fill="#ff3333"/>
  <text x="100" y="385" font-family="Arial" font-size="13" fill="#ffffff">High Path (Drive) — 40V → Buck/Boost → Ideal Diode → Controller +</text>

  <circle cx="80" cy="405" r="6" fill="#3399ff"/>
  <text x="100" y="410" font-family="Arial" font-size="13" fill="#ffffff">Low Path (Input) — 40V feed into 40→12V converter</text>

  <circle cx="80" cy="430" r="6" fill="#ffcc00"/>
  <text x="100" y="435" font-family="Arial" font-size="13" fill="#ffffff">12V Keep-Alive Rail — switch → diode → supercaps → indicator</text>

  <circle cx="80" cy="455" r="6" fill="#aaaaaa"/>
  <text x="100" y="460" font-family="Arial" font-size="13" fill="#ffffff">Common Ground — shared return, 12V isolated from HV rail</text>
</svg>
